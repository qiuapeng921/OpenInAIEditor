<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>com.github.qiuapeng921.openaieditor</id>
    <name>Open In AIEditor</name>
    <vendor email="qiuapeng921@gmail.com" url="https://github.com/qiuapeng921/open-in-aieditor">qiuapeng921</vendor>

    <!-- 插件分类和标签 -->
    <category>Tools Integration</category>
    
    <!-- 产品和插件兼容性要求 -->
    <depends>com.intellij.modules.platform</depends>
    
    <!-- 兼容的 IDE 产品：2023.3 及所有后续版本 -->
    <idea-version since-build="233"/>

    <!-- 插件定义的扩展点 -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- AIEditor 可执行文件路径设置页面 -->
        <applicationConfigurable 
            parentId="tools" 
            instance="com.github.qiuapeng921.openaieditor.settings.AIEditorSettingsConfigurable"
            id="com.github.qiuapeng921.openaieditor.settings.AIEditorSettingsConfigurable"
            displayName="AIEditor"/>
        
        <!-- 通知组 -->
        <notificationGroup id="AIEditor" displayType="BALLOON"/>
    </extensions>

    <actions>
        <!-- AIEditor 主菜单组 -->
        <group id="com.github.qiuapeng921.openaieditor.AIEditorGroup" text="Open In AIEditor" description="在 AI 编辑器中打开" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="first"/>
            
            <!-- Antigravity 子菜单项 -->
            <action id="com.github.qiuapeng921.openaieditor.OpenFileInAntigravity" 
                    class="com.github.qiuapeng921.openaieditor.actions.OpenFileInAntigravityAction" 
                    text="Antigravity" 
                    description="在 Antigravity IDE 中打开此文件"/>
            
            <action id="com.github.qiuapeng921.openaieditor.OpenFolderInAntigravity" 
                    class="com.github.qiuapeng921.openaieditor.actions.OpenFolderInAntigravityAction" 
                    text="Antigravity" 
                    description="在 Antigravity IDE 中打开此文件夹"/>
            
            <!-- Kiro 子菜单项 -->
            <action id="com.github.qiuapeng921.openaieditor.OpenFileInKiro" 
                    class="com.github.qiuapeng921.openaieditor.actions.OpenFileInKiroAction" 
                    text="Kiro" 
                    description="在 Kiro IDE 中打开此文件"/>
            
            <action id="com.github.qiuapeng921.openaieditor.OpenFolderInKiro" 
                    class="com.github.qiuapeng921.openaieditor.actions.OpenFolderInKiroAction" 
                    text="Kiro" 
                    description="在 Kiro IDE 中打开此文件夹"/>
        </group>
    </actions>
</idea-plugin>